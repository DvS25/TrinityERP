
@{
    ViewBag.Title = "NewsLetter";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row" style="margin-top:10px">
    <div class="col-lg-12">
        <div class="panel">
            <div class="panel-body">
                <div class="row" style="margin-top:10px;background-color: white;" role="tabpanel">
                    <ul class="nav nav-tabs" role="tablist" style="padding: 15px 0px 0px 0px;margin-left: 10px;">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" data-toggle="tab" href="#Emailtab" id="tabEmail" role="tab" onclick="NewsLetterEmailView.triggerInitialClick();">Email Template</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" data-toggle="tab" href="#SMSTab" id="tabSMS" role="tab" onclick="NewsLetterSMSView.triggerInitialClick();">SMS Template</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" data-toggle="tab" href="#NotificationTab" id="tabNotification" role="tab" onclick="B2C_SignalNotificationView.triggerInitialClick();">Notification Template</a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active m-t-15" id="Emailtab" role="tabpanel">
                        <form id="frmemail" class="form-horizontal">
                            <div id="pnlEditEmail" style="display:none;background-color:#fff">
                                <div style="height:32px;margin-bottom: 30px;margin-right: 19px">
                                    <button name="cancelEmail" class="btn btn-sm pull-right purple" type="button"><i class="fa fa-arrow-left"></i>&nbsp;Back</button>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-2 form-control-label">Template Name <span style="color:red"> *</span></label>
                                    <div class="col-sm-4">
                                        <input class="form-control required" name="TemplateName" type="text" id="txtEmail">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-2 form-control-label">Subject Name <span style="color:red"> *</span></label>
                                    <div class="col-sm-4">
                                        <input class="form-control required" name="SubjectName" type="text" id="txtEmailSub">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-2 form-control-label">Email Body <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <div id="txtEmailBody" class="summernote required"></div>
                                        <label id="EmailBody_error" class="error" for="txtGroup" style="display:none">This field is required.</label>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="col-sm-12">
                                            <label title="Upload image file" class="btn btn-primary" for="btnimageUpload">
                                                <input type="file" accept="image/*" name="file" id="btnimageUpload" class="hide" tabindex="1" required>
                                                Upload Picture
                                            </label>
                                            <img id="ItemimgPreview" src="" style="display:none" />
                                            <input type="hidden" id="hdnimageId" value="" />
                                            <input type="hidden" id="hdndomainfirstpath" value="@System.Configuration.ConfigurationManager.AppSettings["FirstdomainPath"]" />
                                        </div>
                                        <div class="col-sm-12" style="margin-top: 10px;">
                                            <table class="table" frame="box" style="border-color: #8080805c;">
                                                <tbody id="dataimagelist"></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <input type="hidden" id="hdnEmailId" value="" />
                                <div class="form-group row">
                                    <div class="col-sm-9 col-sm-offset-2" style="padding-bottom: 13px;">
                                        @*<button type="button" class="btn btn-default waves-effect" name="cancelEmail">Cancel</button>*@
                                        <button type="button" id="btnSaveEmail" class="btn btn-success waves-effect waves-light m-r-30">Submit</button>
                                        @*<button type="button" id="btnSaveEmailSend" class="btn btn-success waves-effect waves-light m-r-30">Send</button>*@
                                    </div>
                                </div>
                            </div>
                            <div id="pnlViewEMail" style="display:block;background-color:#fff">
                                @if (Model.ISADD == 1)
                                {
                                <div class="Pull_Text_Left">
                                    <button class="formstylebutton  btn btn-success waves-effect waves-light m-t-10" id="btnAddNewEmail" type="button"><i class="fa fa-plus"></i>&nbsp;&nbsp;Add New Email</button>
                                </div>
                                }
                                <div class="table-responsive" style="padding:12px 0px;">
                                    <div class="jqGrid_wrapper" id="jqGrid_Email">
                                        <table id="table_list_Email"></table>
                                        <div id="pager_list_Email"></div>
                                    </div>
                                </div>
                            </div>
                                <div class="col-sm-12 m-t-20" id="gridhistoryemaildiv">
                                    <label class="label-click text-curious" onclick="NewsLetterEmailView.ShowProcessDetail();">
                                        <i id="iEmailProcessDetail" class="fa fa-lg m-r-xxs fa-caret-down"></i><span id="spEmailProcessDetail">Show Email Publish History</span>
                                    </label>
                                </div>
                                <div id="pnlHistoryEmail" style="display:none;background-color:#fff">
                                    <div class="col-sm-12 table-responsive" id="DivEmailHistory">
                                        <div class="table-responsive" style="padding:12px 0px;">
                                            <div class="jqGrid_wrapper" id="jqGridEmailHistory">
                                                <table id="tableEmailHistory"></table>
                                                <div id="pagerEmailHistory"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            
                            <div id="pnldeleteEmail" style="display:none;background-color:#fff">
                                <h4 class="text-danger-color">Are you sure to delete this record ?</h4>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Template Name:</label>
                                    <label id="delTemplateNameEmail" class="col-sm-9"></label>
                                </div>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Subject Name:</label>
                                    <label id="delSubjectName" class="col-sm-9"></label>
                                </div>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Email Body:</label>
                                    <label id="delEmailBody" class="col-sm-3" />
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-10 col-sm-offset-3">
                                        <button type="button" class="btn btn-default waves-effect" name="cancelEmail">Cancel</button>
                                        <button type="button" class="btn btn-danger waves-effect waves-light" id="btnDeleteEmail">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="tab-pane m-t-15" id="SMSTab" role="tabpanel">
                        <div id="pnlAddSMS" style="display:none;background-color:#fff">
                            <div style="height:32px;margin-bottom: 30px;margin-right: 19px;">
                                <button name="cancelSMS" class="btn btn-sm pull-right purple" type="button"><i class="fa fa-arrow-left"></i>&nbsp;Back</button>
                            </div>
                            <form id="frmSmsDemo" class="form-horizontal">
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">Template Name <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <input class="form-control required" name="SmsName" type="text" id="txtSmsName">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">languages <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <select class="form-control required" name="languages" id="text_languages">
                                            <option value="EN" selected="selected">English</option>
                                            <option value="UC">UC</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">SMS Body <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <textarea class="form-control required" name="SmsBody" rows="4" id="txtSmsBody"></textarea>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-9 col-sm-offset-3" style="padding-bottom: 13px;">
                                        <button type="button" class="btn btn-success waves-effect waves-light m-r-30" id="btnSaveSms">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div id="pnlViewSMS">
                            <div style="display:block;background-color:#fff">
                                @if (Model.ISADD == 1)
                                {
                                <div class="Pull_Text_Left">
                                    <button class="formstylebutton  btn btn-success waves-effect waves-light m-t-10" id="btnAddNewSMS" type="button"><i class="fa fa-plus"></i>&nbsp;&nbsp;Add New Sms</button>
                                </div>
                                }
                                <div class="table-responsive" style="padding:12px 0px;">
                                    <div class="jqGrid_wrapper" id="jqGrid_sms">
                                        <table id="table_list_SMS"></table>
                                        <div id="pager_list_SMS"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel" id="pnlDeleteSMS" style="display:none;">
                            <div class="panel-body">
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Template Name:</label>
                                    <label id="delTemplateName" class="col-sm-9"></label>
                                </div>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">SMS Body:</label>
                                    <label id="delSMSBody" class="col-sm-9"></label>
                                </div>

                                <div class="form-group row">
                                    <div class="col-sm-10 col-sm-offset-3">
                                        <button type="button" name="cancelSMS" class="btn btn-default waves-effect">Cancel</button>
                                        <button type="button" class="btn btn-danger waves-effect waves-light" id="btnDeleteSMS">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 m-t-20" id="gridhistorysmsdiv">
                            <label class="label-click text-curious" onclick="NewsLetterSMSView.ShowProcessDetail();">
                                <i id="iProcessDetail" class="fa fa-lg m-r-xxs fa-caret-down"></i><span id="spProcessDetail">Show SMS Publish History</span>
                            </label>
                        </div>
                        <div id="pnlHistorySMS" style="display:none;background-color:#fff">
                            <div id="dPCDRadio" class="col-sm-12  m-t-10">
                                <div class="col-sm-8 m-t-sm p-0">
                                    <span class="m-r-xxs">Show: </span>
                                    <input type="radio" name="PCDRadio" id="rbtnPCDCompleted" class="icheckminimal" checked>
                                    <label for="rbtnPCDCompleted" class="extra-paddingleft">Completed</label>
                                    <input type="radio" name="PCDRadio" id="rbtnPCDRunning" class="icheckminimal">
                                    <label for="rbtnPCDRunning" class="extra-paddingleft">Running</label>
                                    <input type="radio" name="PCDRadio" id="rbtnPCDAll" class="icheckminimal">
                                    <label for="rbtnPCDAll" class="extra-paddingleft">ALL</label>
                                </div>
                                <div class="col-sm-4 m-t-sm p-0">
                                    <div class="pull-right" style="width: 25px;">
                                        <span id="lblTimerCounter" class="bold fs-12 m-l-xxs"></span>
                                    </div>
                                    <label for="chkAutoRefresh" class="extra-paddingleft pull-right m-l-xxs">Auto Refresh</label>
                                    <div class="pull-right" style="margin-right: 5px;">
                                        <input type="checkbox" id="chkAutoRefresh" class="icheckminimal" name="AutoRefresh">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 table-responsive" id="DivSMSHistory">
                                <div class="table-responsive" style="padding:12px 0px;">
                                    <div class="jqGrid_wrapper" id="jqGridSMSHistory">
                                        <table id="tableSMSHistory"></table>
                                        <div id="pagerSMSHistory"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="hdnSmsID" value="" />
                    </div>
                    <div class="tab-pane m-t-15" id="NotificationTab" role="tabpanel">
                        <input type="hidden" id="hdnSignalNotificationId" value="" />
                        <div id="panelB2C_SignalNotificationEdit" style="display:none;background-color:#fff">
                            <div style="height:32px;margin-bottom: 30px;margin-right: 19px;">
                                <button name="CancelB2C_SignalNotification" class="btn btn-sm pull-right purple" type="button"><i class="fa fa-arrow-left"></i>&nbsp;Back</button>
                            </div>
                            <form id="frmB2C_SignalNotification" class="form-horizontal">
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">Title <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <input class="form-control required" name="txtHeader" type="text" id="txtHeader">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">Description <span style="color:red"> *</span></label>
                                    <div class="col-sm-6">
                                        <textarea class="form-control required" name="txtContent" rows="4" id="txtContent"></textarea>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="example-text-input" class="col-sm-3 form-control-label">Picture</label>
                                    <div class="col-sm-2">
                                        <img width="160" height="160" src="@System.Configuration.ConfigurationManager.AppSettings["domainPath"]" id="imgempprofileimg" />
                                        <input type="hidden" id="hdnDeletedImg" />
                                    </div>
                                    <div class="col-sm-4" id="permissionbtndiv">
                                        <label title="Upload image file" class="btn btn-primary" for="btnUploadfile">
                                            <input type="file" accept="image/*" name="file" id="btnUploadfile" class="hide" tabindex="1" required>
                                            Upload File
                                            <input type="hidden" id="hdnbtnUploadfileid" value="" />
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-9 col-sm-offset-3" style="padding-bottom: 13px;">
                                        <button type="button" class="btn btn-success waves-effect waves-light m-r-30" id="btnSaveB2C_SignalNotification">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div id="panelB2C_SignalNotificationList">
                            <div style="display:block;background-color:#fff">
                                @if (Model.ISADD == 1)
                                {
                                    <div class="Pull_Text_Left">
                                        <button class="formstylebutton  btn btn-success waves-effect waves-light m-t-10" id="btnAddB2C_SignalNotification" type="button"><i class="fa fa-plus"></i>&nbsp;&nbsp;Add New Notification</button>
                                    </div>
                                }
                                <div class="table-responsive" style="padding:12px 0px;">
                                    <div class="jqGrid_wrapper" id="jqGrid_notification">
                                        <table id="table_B2C_SignalNotification"></table>
                                        <div id="pager_B2C_SignalNotification"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel" id="panelB2C_SignalNotificationDelete" style="display:none;">
                            <div class="panel-body">
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Title:</label>
                                    <label id="delblHeader" class="col-sm-9"></label>
                                </div>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Description:</label>
                                    <label id="delblContent" class="col-sm-9"></label>
                                </div>
                                <div class="row">
                                    <label class="col-sm-3 f-bold form-control-label">Image:</label>
                                    <img id="delblImage" class="col-sm-9"/>
                                </div>

                                <div class="form-group row">
                                    <div class="col-sm-10 col-sm-offset-3">
                                        <button type="button" name="CancelB2C_SignalNotification" class="btn btn-default waves-effect">Cancel</button>
                                        <button type="button" class="btn btn-danger waves-effect waves-light" id="btnDeleteB2C_SignalNotification">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 m-t-20" id="gridshowhidedivnotification">
                            <label class="label-click text-curious" onclick="B2C_SignalNotificationView.ShowProcessDetail();">
                                <i id="inotProcessDetail" class="fa fa-lg m-r-xxs fa-caret-down"></i><span id="spnotProcessDetail">Show Notification History</span>
                            </label>
                        </div>
                        <div id="pnlHistorynotification" style="display:none;background-color:#fff">
                            <div class="col-sm-12 table-responsive" id="DivnotHistory">
                                <div class="table-responsive" style="padding:12px 0px;">
                                    <div class="jqGrid_wrapper" id="jqGridnotHistory">
                                        <table id="tablenotHistory"></table>
                                        <div id="pagernotHistory"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*<input type="hidden" id="hdnSmsID" value="" />*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modalnotification" tabindex="-1" role="dialog" aria-labelledby="modalPreviewlbl" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title" id="modalPreviewlbl">Send Notification</h4>
            </div>
            <div class="modal-body" style="overflow-x: auto;">
                <form class="form-horizontal"><input id="lblhidennotifyid" type="hidden" />
                    <div class="form-group row">
                        <label class="col-md-2 control-label" style="text-align:right;">Title: </label>
                        <label id="lbltitle" class="col-md-6 control-label" style="color:#000;text-align:left;"></label>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label" style="text-align:right;">Content: </label>
                        <label id="lblcontent" class="col-md-6 control-label" style="color:#000;text-align:left;"></label>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label" style="text-align:right;">Image: </label>
                        <div class="col-md-2">
                            <img width="160" height="160" src="" id="lblimage"/>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="btnnotifyPublish" type="button" class="btn btn-default">Send Notification</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modalPreview" tabindex="-1" role="dialog" aria-labelledby="modalPreviewlbl" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title" id="modalPreviewlbl">Email Preview</h4>
            </div>
            <div class="modal-body" style="overflow-x: auto; height: 475px !important;">
                <form class="form-horizontal">
                    <div class="form-group row">
                        <label class="col-md-2 control-label" style="text-align:left;">Subject: </label>
                        <label id="lblSubject" class="col-md-2 control-label" style="color:#000;text-align:left;"></label>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label" style="text-align:left;">Email: </label>
                        <div id="lblEmail" class="col-md-10">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPublish" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="width: 1150px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title">Publish Template</h4>
            </div>
            <div class="modal-body">
                <form id="FrmPublishEmail" class="form-horizontal">
                    <div class="form-group row" id="DivPublishSubject">
                        <label class="col-md-2 control-label">Subject: </label>
                        <label id="lblPublishSubject" class="col-md-10 control-label" style="text-align: left;"></label>
                    </div>
                    <div class="form-group row">
                        <label id="lblEmailProfile" class="col-md-2 control-label">Email Profile: </label>
                        <div id="DivEmailProfile" class="col-md-3">
                            <select id="ddlEmailProfile" class="form-control required"></select>
                        </div>
                        <label class="col-md-2 control-label">UserType: </label>
                        <div class="col-md-3">
                            <select id="ddlUserType" name="UserType" class="form-control required" onchange="NewsLetterEmailView.OnUserTypeChange(this);">
                                <option value="">--Select UserType--</option>
                                <option value="AddressBook">AddressBook</option>
                                <option value="B2B">B2B</option>
                                <option value="B2C">B2C</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label id="lblUserGroups" class="col-md-2 control-label" style="display:none;">User Groups: </label>
                        <div class="col-md-3" id="divUserGroups" style="display:none;">
                            <select class="js-example-basic-multiple" name="UserGroups[]" multiple="multiple" id="ddlUserGroups"></select>
                        </div>
                        <label id="lblSMSMailTo" class="col-md-2 control-label" style="display:none;">Send Mail To: </label>
                        <div id="DivSMSMailTo" class="col-md-4" style="margin-top:6px;display:none;">
                            <input type="radio" id="Email1" class="ab" name="radioEmailId" checked>
                            <label for="Email1">Email 1</label>
                            <input type="radio" id="Email2" class="ab" name="radioEmailId">
                            <label for="Email2" style="margin-right: 6px;">Email 2</label>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label">Country: </label>
                        <div class="col-md-3">
                            <select id="ddlCountry" name="Country" style="width: 100%" class="form-control" onchange="NewsLetterEmailView.BindStateData();"></select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label">State: </label>
                        <div class="col-md-3">
                            <select id="ddlState" name="State" class="form-control" onchange="NewsLetterEmailView.BindCityData();"></select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 control-label">City: </label>
                        <div class="col-md-3">
                            <select id="ddlCity" name="City" class="form-control"></select>
                        </div>
                    </div>
                    <input type="hidden" id="hdnPublishTemplateId" />
                    <input type="hidden" id="hdnPublishFrom" />
                </form>
            </div>
            <div class="modal-footer">
                <button id="btnPublish" type="button" class="btn btn-default">Publish</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPublishHistory" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="width: 1150px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title">Email Publish History</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group row">
                        <div class="col-md-12">
                            <div class="table-responsive" style="padding: 0px 0px;height: 400px !important;" id="DivEmailList">
                                <table class="table table-bordered" style="font-size:13px !important;margin-bottom:0px !important">
                                    <thead>
                                        <tr>
                                            <th style="width:10%">Email Id</th>
                                            <th style="width:40%">Subject</th>
                                            <th class="text-center" style="width:5%">Date</th>
                                            <th class="text-center" style="width:10%">Status</th>
                                            <th class="text-center" style="width:35%">Error</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tableEmailList"></tbody>
                                </table>
                            </div>
                        </div>
                        <label id="lblEmailPCDGridMsg" style="display: none;" class="col-sm-12 m-t-xxs text-danger italic fs-11">No Records Found !!!</label>
                        <div id="ProcessEmailDetailPager" class="col-sm-12 text-right m-t-10" style="display:none">
                            <label class="control-label"><span id="EmailRecordsProcessDetail">1 - 10</span> of <span id="TotalEmailRecordProcessDetail"></span></label>
                            <button type="button" class="btn btn-default waves-effect" id="backwardEmailProcessDetail"><i class="fa fa-angle-left fs-15"></i> Previous</button>
                            <button type="button" class="btn btn-default waves-effect" id="forwardEmailProcessDetail">Next <i class="fa fa-angle-right fs-15"></i></button>
                        </div>
                    </div>
                    <input type="hidden" id="hdnEmailNEwsLetterId" />
                    <input type="hidden" id="hdnEmailNEwsLetterStatus" />
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalSMSPublishHistory" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="width: 1150px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title">SMS Sent List</h4>
            </div>
            <div class="modal-body">
                <form id="FrmPublishSMS" class="form-horizontal">
                    <div class="form-group row">
                        <div class="col-md-12">
                            <div class="table-responsive" style="padding: 0px 0px;height: 400px !important;" id="DivSMSList">
                                <table class="table table-bordered" style="font-size:13px !important;margin-bottom:0px !important">
                                    <thead>
                                        <tr>
                                            <th style="width:10%">MoileNo</th>
                                            <th style="width:60%">SMS Body</th>
                                            <th class="text-center" style="width:5%">Date</th>
                                            <th class="text-center" style="width:10%">Status</th>
                                            <th class="text-center" style="width:15%">Error</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tableSMSList"></tbody>
                                </table>
                            </div>
                        </div>
                        <label id="lblPCDGridMsg" style="display: none;" class="col-sm-12 m-t-xxs text-danger italic fs-11">No Records Found !!!</label>
                        <div id="ProcessDetailPager" class="col-sm-12 text-right m-t-10" style="display:none">
                            <label class="control-label"><span id="RecordsProcessDetail">1 - 10</span> of <span id="TotalRecordProcessDetail"></span></label>
                            <button type="button" class="btn btn-default waves-effect" id="backwardProcessDetail"><i class="fa fa-angle-left fs-15"></i> Previous</button>
                            <button type="button" class="btn btn-default waves-effect" id="forwardProcessDetail">Next <i class="fa fa-angle-right fs-15"></i></button>
                        </div>
                    </div>
                    <input type="hidden" id="hdnSMSNEwsLetterId" />
                    <input type="hidden" id="hdnSMSNEwsLetterStatus" />
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalSMSError" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="top: 9px;">&times;</button>
                <h4 class="modal-title">Erorr Detail</h4>
            </div>
            <div class="modal-body">
                <p id="TxtErrorDetail" style="word-break:break-all;">
                </p>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/Script/Account/NewsLetter.js"></script>
    <script id="Getimagedata" type="text/x-jsrender">
        <tr class="row">
            <td style="display:none">{{>emaildemoid}}</td>
            <td style="display:none"><img id="image{{>emaildemoid}}" src="@System.Configuration.ConfigurationManager.AppSettings["domainPath"]/UploadFiles/EmailDemoTemplate/{{>emaildemopath}}" /></td>
            <td class="com-sm-10" style="color:#333333c7;">{{>emaildemoimagename}}</td>
            <td class="col-sm-1 permissionaddimage"><a href="#0" onclick="Addimage({{>emaildemoid}})"><i class="fa fa-plus fa-lg" style="color: #28b128;"></i></a></td>
            <td class="com-sm-1 permissiondlt"><a href="#0" onclick="dltimage({{>emaildemoid}})"><i class="fa fa-times fa-lg" style="color: #e14444;"></i></a></td>
        </tr>
    </script>
    <script id="ddlGroupList" type="text/x-jsrender">
        {{if groupname != "" && groupname != "[object Object]"}}
        <option value="{{>groupid}}">{{>groupname}}</option>
        {{/if}}
    </script>
    <script id="DivProfileList" type="text/x-jsrender">
        <option value="{{:emailprofileid}}">{{:profile}}</option>
    </script>
    <script id="CountryDropdownList" type="text/x-jsrender">
        <option value="{{:countryid}}">{{:countryname}}</option>
    </script>
    <script id="DdlcityList" type="text/x-jsrender">
        <option value="{{>cityid}}">{{>cityname}}</option>
    </script>
    <script id="DdlStateList" type="text/x-jsrender">
        <option value="{{>stateid}}">{{>statename}}</option>
    </script>
    <script id="DdlCountryList" type="text/x-jsrender">
        <option value="{{>countryid}}">{{>countryname}}</option>
    </script>
    <script id="SMSListDetail" type="text/x-jsrender">
        <tr>
            <td>
                {{>smsto}}
            </td>
            <td>
                {{>smsbody}}
            </td>
            <td class="text-center">
                {{>senddate}}
            </td>
            <td class="text-center">
                {{>smsstate}}
            </td>
            <td>
                {{>errormesaage}}
            </td>
        </tr>
    </script>
    <script id="EmailListDetail" type="text/x-jsrender">
        <tr>
            <td>
                {{>toemail}}
            </td>
            <td>
                {{>subject}}
            </td>
            <td class="text-center">
                {{>sentdate}}
            </td>
            <td class="text-center">
                {{>status}}
            </td>
            <td>
                {{>errormessage}}
            </td>
        </tr>
    </script>
}